---
title: "MICB425 Portfolio - Microbial Ecological Genomics: From Genomes to Biomes, Spring 2018"
author: "Miguel, Desmarais, 21421145"
date: "version `r format(Sys.time(), '%B %d, %Y')`"
runtime: shiny
output:
  html_document: 
    toc: yes
editor_options: 
  chunk_output_type: console
---
```{r, eval=FALSE, echo=FALSE}
install.packages("plotly")
install.packages("shiny")
```

# Module 01

## Portfolio check

* Installation check
    + Completion status:
    + Comments:
* Portfolio repo setup
    + Completion status: 
    + Comments:
* RMarkdown Pretty PDF Challenge
    + Completion status:
    + Comments:
* Evidence worksheet_01
    + Completion status:
    + Comments:
* Evidence worksheet_02
    + Completion status:
    + Comments:
* Evidence worksheet_03
    + Completion status:
    + Comments:
* Problem Set_01
    + Completion status:
    + Comments:
* Problem Set_02
    + Completion status:
    + Comments:
* Writing assessment_01
    + Completion status:
    + Comments:
* Additional Readings
    + Completion status:
    + Comments  
    
## Data science Friday

### Installation check

![Mac Terminal](/users/Miguel/Documents/MICB425_Portfolio/MICB425_Portfolio/Images/bash.png)


![RStudio](/users/Miguel/Documents/MICB425_Portfolio/MICB425_Portfolio/Images/Rstudio.png)


![Github homepage](/users/Miguel/Documents/MICB425_Portfolio/MICB425_Portfolio/Images/github.png)

### Portfolio repo setup

#### Repo setup

Configure Git command line for my GitHub account:

`git config --global user.name "Miguel Desmarais"`

`git config --global user.email "migdesmarais@email.com"`

Create new portfolio directory:

`mkdir MICB425_portfolio`

Initialize directory as new GitHub repo:

`git init`

Add files into github index (staging area):

`git add .`

Commit files to GitHub repo:

`git commit -m "First commit"`

Connect newly initiated GitHub repo:

`git remote add origin https://github.com/migdesmarais/MICB425_portfolio.git` 

Verifiy web URL for new remote repo:

`git remote -v`

Push repo up to GitHub:

`git push -u origin master`

#### Future addition of material

`git add .`

`git commit -m "First commit"`

`git push -u origin master`

### RMarkdown pretty html challenge

## Origins and Earth Systems

### Evidence worksheet 01 "Prokaryotes: The Unseen Majority"

#### Learning objectives:

* Describe the numerical abundance of microbial life in relation to the ecology and biogeochemistry of Earth systems.

#### General questions:

* What were the main questions being asked?

* What were the primary methodological approaches used?

* Summarize the main results or findings.

* Do new questions arise from the results?

* Were there any specific challenges or advantages in understanding the paper (e.g. did the authors provide sufficient background information to understand experimental logic, were methods explained adequately, were any specific assumptions made, were conclusions justified based on the evidence, were the figures or tables useful and easy to understand)?

### Evidence worksheet 02 “Life and the Evolution of Earth’s Atmosphere”

#### Learning objectives:

* **Comment on the emergence of microbial life and the evolution of Earth systems.**

#### Prompt

* **Indicate the key events in the evolution of Earth systems at tic marks on the time series.**

Mouse over the data points in the below timeline to see the key events in the evolution of Earth systems.

```{r echo=FALSE, warning=FALSE, message=FALSE}
# Create marks on the time series with a vector. This holds the "y-value" for the timeline, which we are using as 0 for this application.
tics <-rep(0,14)

# Create another vector the same length of the time series tics that holds the discrete dates to be displayed on the timeline. List the dates as a factor of millions of years ago (billions are a thousand million years).
Million.years.ago<-c(4600,4500,4400,4200,3800,3750,3500,3000,2700,2200,2100,1300,0.550,0)

# Create a vector that holds the text of the events that correspond to the dates that you provided in the Million.years.ago vector.
events<-c("Solar system formed","formation of moon giving Earth spin and tilt, day/night cycles & seasons","formation of oceans and early atmosphere","Darwinian threshold",
          "prokaryotic cells, Rubisco, stable sea chemistry, halted meteorite bombardment","photosynthesis","cyanobacteria","eukaryotic cells",
          "great oxidation event, Red Beds","first snowball Earth","appearance of multicellular life", "animals","humans","today")

# Create a vector that holds the names of the epoch to which the events you've recorded correspond.
epoch<-c(rep("Hadean",4),rep("Archaen",5),rep("Proterozoic",3),rep("Phanerozoic",2))

# Merge the vectors you created into a dataframe.
ddd<-data.frame(tics,Million.years.ago,events,epoch)

# Load the plotly and shiny libraries; you'll need this for the plotting later.
library(plotly)
library(shiny)

# Define some axis parameters for the interactive plotly plot you're building. I want this to look like a timeline, so I want to effectively erase the y-axis.
ay <- list(
  title = "",
  zeroline = FALSE,
  showline = FALSE,
  showticklabels = FALSE,
  showgrid = FALSE
)

# Define the axis title parameters for the plot. You will use this  and the ay variable you defined previously in the next command.
ax <- list(
  title = "Million years ago"
)

# Make your interactive plot:
plot_ly(ddd, x = ~Million.years.ago, y = ddd$tics, type = "scatter",
  # Hover text:
  text = ~paste(events),
  color = ~epoch
) %>%
  layout(title="Evolutionary Development of Earth", xaxis = ax, yaxis = ay)
```

* **Describe the dominant physical and chemical characteristics of Earth systems at
waypoints.**

Select an epoch from the dropdown to see a summary of the predominant physical and chemical characteristics of Earth at the time.

```{r echo=FALSE, warning=FALSE, message=FALSE}

# Create a vector that holds all of the epochs that were discussed in class.
e2<-c("Hadean","Archaen","Proterozoic","Phanerozoic")

# Create a vector that describes Earth's conditions at each of the corresponding epochs listed in the above vector.
chr<-c("dry surface at 500 degrees C, 90 bar pressure on Earth's surface; carbon dioxide tied up in carbonate materials such as limestone", "strong greenhouse gases predominate (methane and carbon dioxide)", "oxidation of the early atmosphere - microaerobic", "increased oxygenation of the atmosphere, mass extinction events from meteorite impacts")

# Bind the two previous vectors into a data frame so you can call associate the epochs with their characteristics.
ab<-as.data.frame(cbind(e2,chr),stringsAsFactors = FALSE)

# Define a selector dropbox using functions in the Shiny package. The header for the dropbox is called "Epoch:", and within the function, we refer to this input as "Epoch" (this is similar to assigning a variable in base R). The choices supplied to the dropbox are everything listed in the vector e2.
selectInput("Epoch","Epoch:",choices=e2)

# Define the dynamic text that will appear as a result of what the document user chooses in the dropbox. This function utilizes the two vectors you built with epochs and their physical and chemical characteristics and their association in a dataframe.
renderPrint({
  ab$chr[ab$e2==input$Epoch]
})

```

### Evidence worksheet 03

### Problem set 01

### Problem set 02

### Writting assessment 01

## References
